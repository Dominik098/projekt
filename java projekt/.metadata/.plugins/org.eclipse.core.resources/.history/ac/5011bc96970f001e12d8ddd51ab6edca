<%@ page language="java" contentType="text/html; charset=UTF-8"%>
<%@ page import="java.sql.*" %>
<%
//Przykładowa logika logowania
String login = request.getParameter("login");
String password = request.getParameter("password");
Connection con = null;
//Sprawdzenie poprawności danych logowania (może wymagać dodatkowej logiki)

//Pobranie danych użytkownika z bazy danych
String query = "SELECT imie, nazwisko, rola, email FROM uzytkownicy WHERE login = ?";
PreparedStatement statement = con.prepareStatement(query);
statement.setString(1, login);
ResultSet resultSet = statement.executeQuery();

if (resultSet.next()) {
 // Przypisanie danych do atrybutów sesji
 session.setAttribute("Aimie", resultSet.getString("imie"));
 session.setAttribute("Anazwisko", resultSet.getString("nazwisko"));
 session.setAttribute("administrator", resultSet.getString("rola"));
 session.setAttribute("email-login", resultSet.getString("email"));
}

//Zamknięcie zasobów
resultSet.close();
statement.close();
con.close();

%>

<!DOCTYPE html>
<html>
<head>
  <title>Informacje o użytkowniku</title>
  <link rel="stylesheet" type="text/css" href="info_uz.css">
</head>
<body>
  <div class="container">
    <h1>Informacje o użytkowniku</h1>
    <div class="user-info">
      <div class="user-details">
        <h2>Imię: <%=session.getAttribute("Aimie") %></h2>
        <h2>Nazwisko: <%=session.getAttribute("Anazwisko") %></h2>
        <p>Rola: <%=session.getAttribute("administrator") %></p>
        <p>Email: <%=session.getAttribute("email-login") %></p>
        <p>Hasło: <%=session.getAttribute("haslo-login") %></p>
        
      </div>
    </div>
  </div>
</body>
</html>
